define("sht/search/1.0.0/search",["arale/autocomplete/1.2.3/autocomplete","gallery/jsuri/1.2.2/jsuri"],function(a,b,c){var d=a("arale/autocomplete/1.2.3/autocomplete"),e=a("gallery/jsuri/1.2.2/jsuri"),f=d.extend({attrs:{searchInput:{value:null,readOnly:!0},searchBtn:null,url:""},setup:function(a){this.input=$(this.get("searchInput")),this.input.length&&(this.set("trigger",this.get("searchInput")),this.btn=$(this.get("searchBtn")),this.actionSearch(),$.isArray(this.get("dataSource"))&&0==this.get("dataSource").length||(f.superclass.setup.call(this,a),this.render()))},actionSearch:function(){this.input.on("keypress",$.proxy(this.sbmOnEnter,this)),this.btn.on("click",$.proxy(this.sbmOnClick,this))},sbmOnEnter:function(a){if(13==a.keyCode){var b=$.trim(this.input.val());b&&b!=$.trim(this.input.attr("placeholder"))&&this.sbmt(b),this.trigger("mysubmit")}},sbmOnClick:function(){var a=$.trim(this.input.val());a&&a!=this.input.attr("placeholder")&&this.sbmt(a),this.trigger("mysubmit")},sbmt:function(a){var b=new e(this.get("url"));location.href=b.toString()+"#keyword="+encodeURI(a)}});c.exports=f});
